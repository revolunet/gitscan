[project]
name = "rag-facile-cli"
version = "0.12.1" # x-release-please-version
description = "RAG Facile CLI - Generate RAG workspaces for French Government"
readme = "README.md"
requires-python = ">=3.13"
dependencies = [
    "albert-client",
    "context",
    "ingestion",
    "pipelines",
    "rag-core",
    "reranking",
    "retrieval",
    "storage",
    "datasets>=3.0.0",
    "huggingface-hub>=1.3.0",
    "letta-client>=0.1.0",
    "libcst>=1.8.6",
    "pypdf>=5.0.0",
    "python-dotenv>=1.0.0",
    "pyyaml>=6.0.2",
    "questionary>=2.0.0",
    "rich>=13.0.0",
    "typer>=0.12.0",
]

[dependency-groups]
dev = [
    "pytest>=8.0.0",
    "pytest-mock>=3.12.0",
]

[tool.uv.sources]
albert-client = { workspace = true }
context = { workspace = true }
ingestion = { workspace = true }
pipelines = { workspace = true }
rag-core = { workspace = true }
reranking = { workspace = true }
retrieval = { workspace = true }
storage = { workspace = true }

[project.scripts]
rag-facile = "cli.main:app"

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[tool.hatch.build.targets.wheel]
packages = ["src/cli"]

[tool.hatch.build.targets.wheel.force-include]
"../../.moon/templates" = "cli/templates"
"../../packages/albert-client/src/albert" = "cli/albert_src"
"../../packages/context/src/context" = "cli/templates/context"
"../../packages/ingestion/src/ingestion" = "cli/ingestion_src"
"../../packages/pipelines/src/pipelines" = "cli/pipelines_src"
"../../packages/rag-core/src/rag_core" = "cli/rag_core_src"
"../../packages/reranking/src/reranking" = "cli/templates/reranking"
"../../packages/retrieval/src/retrieval" = "cli/retrieval_src"
"../../packages/storage/src/storage" = "cli/storage_src"
"src/cli/templates/ragfacile.toml" = "cli/templates/ragfacile.toml"
