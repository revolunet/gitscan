.
├── .claude
│   └── settings.local.json
├── .dockerignore
├── .env.dist
├── .github
│   └── workflows
│       └── main.yml
├── .gitignore
├── .npmrc
├── .prettierrc
├── Dockerfile
├── Procfile
├── README.md
├── ci
│   ├── docker-compose.development.yaml
│   └── docker-compose.main.yaml
├── db
│   ├── 0000_bright_stone_men.sql
│   ├── 0001_needy_zemo.sql
│   ├── 0002_colorful_paibok.sql
│   ├── 0003_low_silvermane.sql
│   ├── 0004_bouncy_master_mold.sql
│   ├── 0005_curly_tigra.sql
│   ├── 0006_calm_night_nurse.sql
│   ├── 0007_ambitious_wilson_fisk.sql
│   ├── 0008_empty_mother_askani.sql
│   ├── 0009_simple_riptide.sql
│   ├── 0010_productive_talon.sql
│   ├── 0011_petite_zarda.sql
│   ├── 0012_heavy_sprite.sql
│   ├── 0013_cool_caretaker.sql
│   ├── 0014_opposite_moonstone.sql
│   ├── 0015_secret_glorian.sql
│   ├── 0016_pale_rhodey.sql
│   ├── 0017_overrated_the_professor.sql
│   ├── 0018_tan_gravity.sql
│   └── meta
│       ├── 0000_snapshot.json
│       ├── 0001_snapshot.json
│       ├── 0002_snapshot.json
│       ├── 0003_snapshot.json
│       ├── 0004_snapshot.json
│       ├── 0005_snapshot.json
│       ├── 0006_snapshot.json
│       ├── 0007_snapshot.json
│       ├── 0008_snapshot.json
│       ├── 0009_snapshot.json
│       ├── 0010_snapshot.json
│       ├── 0011_snapshot.json
│       ├── 0012_snapshot.json
│       ├── 0013_snapshot.json
│       ├── 0014_snapshot.json
│       ├── 0015_snapshot.json
│       ├── 0016_snapshot.json
│       ├── 0017_snapshot.json
│       ├── 0018_snapshot.json
│       └── _journal.json
├── docker-compose.yaml
├── images
│   └── db-workflow.png
├── keycloak-theme.jar
├── package.json
├── packages
│   ├── backend
│   │   ├── data
│   │   │   └── udap.json
│   │   ├── drizzle.config.ts
│   │   ├── openapi.json
│   │   ├── package.json
│   │   ├── public
│   │   │   ├── fonts
│   │   │   │   ├── Marianne-Bold.ttf
│   │   │   │   ├── Marianne-BoldItalic.ttf
│   │   │   │   ├── Marianne-Regular.ttf
│   │   │   │   └── Marianne-RegularItalic.ttf
│   │   │   ├── marianne.png
│   │   │   └── marianne_footer.png
│   │   ├── src
│   │   │   ├── db
│   │   │   │   ├── db.ts
│   │   │   │   ├── relations.ts
│   │   │   │   └── schema.ts
│   │   │   ├── envVars.ts
│   │   │   ├── features
│   │   │   │   ├── auth
│   │   │   │   │   └── keycloak.ts
│   │   │   │   ├── bordereau.ts
│   │   │   │   ├── data
│   │   │   │   │   ├── KyselyBatchWriter.ts
│   │   │   │   │   ├── _merimee.ts
│   │   │   │   │   └── pop.ts
│   │   │   │   ├── debug.ts
│   │   │   │   ├── errors.ts
│   │   │   │   ├── image.ts
│   │   │   │   ├── mail
│   │   │   │   │   ├── alertMail.ts
│   │   │   │   │   ├── assets
│   │   │   │   │   │   ├── Marianne-Dark@2x.png
│   │   │   │   │   │   ├── Marianne-Light@2x.png
│   │   │   │   │   │   ├── placeholder.16x9.png
│   │   │   │   │   │   └── placeholder.1x1.png
│   │   │   │   │   └── template-generique.html
│   │   │   │   ├── mail.ts
│   │   │   │   └── sentry.ts
│   │   │   ├── hmr.ts
│   │   │   ├── index.ts
│   │   │   ├── router.ts
│   │   │   ├── routes
│   │   │   │   ├── authMiddleware.ts
│   │   │   │   ├── authRoutes.ts
│   │   │   │   ├── index.d.ts
│   │   │   │   ├── pdfRoutes.tsx
│   │   │   │   ├── stateReportRoutes.ts
│   │   │   │   ├── staticDataRoutes.ts
│   │   │   │   ├── syncRoutes.ts
│   │   │   │   ├── uploadRoutes.tsx
│   │   │   │   └── userRoutes.ts
│   │   │   ├── services
│   │   │   │   ├── authService.ts
│   │   │   │   ├── services.ts
│   │   │   │   ├── stateReportService.ts
│   │   │   │   ├── staticDataService.ts
│   │   │   │   ├── syncService.ts
│   │   │   │   ├── uploadService.ts
│   │   │   │   └── userService.ts
│   │   │   └── types.ts
│   │   ├── test.png
│   │   ├── tests
│   │   │   └── user.test.ts
│   │   ├── tsconfig.json
│   │   └── vite.config.ts
│   ├── frontend
│   │   ├── .eslintrc.cjs
│   │   ├── .gitignore
│   │   ├── .tanstack
│   │   │   └── tmp
│   │   │       └── 385cc012-52fb9a5562b2df45910cc5730cad1492
│   │   ├── README.md
│   │   ├── index.html
│   │   ├── package.json
│   │   ├── public
│   │   │   ├── Tableau de bord mon compte rendu VIF (1).png
│   │   │   ├── env.js
│   │   │   ├── fonts
│   │   │   │   ├── Marianne-Bold.ttf
│   │   │   │   ├── Marianne-BoldItalic.ttf
│   │   │   │   ├── Marianne-Regular.ttf
│   │   │   │   └── Marianne-RegularItalic.ttf
│   │   │   ├── marianne.png
│   │   │   ├── marianne_footer.png
│   │   │   ├── objet-sans-image.png
│   │   │   ├── pdf_header.png
│   │   │   ├── pdfjs
│   │   │   │   ├── build
│   │   │   │   │   ├── pdf.d.mts
│   │   │   │   │   ├── pdf.min.mjs
│   │   │   │   │   ├── pdf.mjs
│   │   │   │   │   ├── pdf.mjs.map
│   │   │   │   │   ├── pdf.sandbox.min.mjs
│   │   │   │   │   ├── pdf.sandbox.mjs
│   │   │   │   │   ├── pdf.sandbox.mjs.map
│   │   │   │   │   ├── pdf.worker.min.mjs
│   │   │   │   │   ├── pdf.worker.mjs
│   │   │   │   │   └── pdf.worker.mjs.map
│   │   │   │   ├── image_decoders
│   │   │   │   │   ├── pdf.image_decoders.min.mjs
│   │   │   │   │   ├── pdf.image_decoders.mjs
│   │   │   │   │   └── pdf.image_decoders.mjs.map
│   │   │   │   └── web
│   │   │   │       ├── images
│   │   │   │       │   ├── altText_add.svg
│   │   │   │       │   ├── altText_done.svg
│   │   │   │       │   ├── annotation-check.svg
│   │   │   │       │   ├── annotation-comment.svg
│   │   │   │       │   ├── annotation-help.svg
│   │   │   │       │   ├── annotation-insert.svg
│   │   │   │       │   ├── annotation-key.svg
│   │   │   │       │   ├── annotation-newparagraph.svg
│   │   │   │       │   ├── annotation-noicon.svg
│   │   │   │       │   ├── annotation-note.svg
│   │   │   │       │   ├── annotation-paperclip.svg
│   │   │   │       │   ├── annotation-paragraph.svg
│   │   │   │       │   ├── annotation-pushpin.svg
│   │   │   │       │   ├── cursor-editorFreeHighlight.svg
│   │   │   │       │   ├── cursor-editorFreeText.svg
│   │   │   │       │   ├── cursor-editorInk.svg
│   │   │   │       │   ├── cursor-editorTextHighlight.svg
│   │   │   │       │   ├── editor-toolbar-delete.svg
│   │   │   │       │   ├── loading-icon.gif
│   │   │   │       │   ├── toolbarButton-editorHighlight.svg
│   │   │   │       │   └── toolbarButton-menuArrow.svg
│   │   │   │       ├── pdf_viewer.css
│   │   │   │       ├── pdf_viewer.d.mts
│   │   │   │       ├── pdf_viewer.mjs
│   │   │   │       └── pdf_viewer.mjs.map
│   │   │   ├── version.js
│   │   │   ├── vite.svg
│   │   │   ├── wa-sqlite-async.mjs
│   │   │   └── wa-sqlite-async.wasm
│   │   ├── scripts
│   │   │   ├── createEnvFile.ts
│   │   │   └── setVersion.ts
│   │   ├── src
│   │   │   ├── ApiStore.ts
│   │   │   ├── App.tsx
│   │   │   ├── api.gen.ts
│   │   │   ├── api.ts
│   │   │   ├── assets
│   │   │   │   ├── noResults.svg
│   │   │   │   ├── react.svg
│   │   │   │   ├── sent.svg
│   │   │   │   └── welcome.svg
│   │   │   ├── components
│   │   │   │   ├── Banner.tsx
│   │   │   │   ├── Chip.tsx
│   │   │   │   ├── DocumentTypeSelector.tsx
│   │   │   │   ├── EmailInput.tsx
│   │   │   │   ├── EnsureUser.tsx
│   │   │   │   ├── FullWidthButton.tsx
│   │   │   │   ├── HomeImageSvg.tsx
│   │   │   │   ├── InputGroup.tsx
│   │   │   │   ├── LoginForm.tsx
│   │   │   │   ├── MUIDsfr.tsx
│   │   │   │   ├── MutationAlert.tsx
│   │   │   │   ├── PasswordInput.tsx
│   │   │   │   ├── RedirectIfUser.tsx
│   │   │   │   ├── ReportSearch.tsx
│   │   │   │   ├── SmartAddressInput.tsx
│   │   │   │   ├── Spinner.tsx
│   │   │   │   ├── SyncForm.tsx
│   │   │   │   ├── Tabs.tsx
│   │   │   │   ├── chips
│   │   │   │   │   ├── ContactChips.tsx
│   │   │   │   │   ├── DecisionChips.tsx
│   │   │   │   │   ├── FurtherInfoChips.tsx
│   │   │   │   │   └── SpaceTypeChips.tsx
│   │   │   │   └── ui
│   │   │   │       ├── Center.tsx
│   │   │   │       ├── ConfirmationModal.tsx
│   │   │   │       ├── Divider.tsx
│   │   │   │       ├── Flex.tsx
│   │   │   │       ├── IconLink.tsx
│   │   │   │       └── LinkButton.tsx
│   │   │   ├── contexts
│   │   │   │   └── AuthContext.tsx
│   │   │   ├── db
│   │   │   │   ├── AppSchema.ts
│   │   │   │   ├── AttachmentQueue.ts
│   │   │   │   ├── Connector.ts
│   │   │   │   ├── Storage.ts
│   │   │   │   └── db.ts
│   │   │   ├── envVars.ts
│   │   │   ├── features
│   │   │   │   ├── DisabledContext.tsx
│   │   │   │   ├── ImmeubleAutocomplete.tsx
│   │   │   │   ├── InfoForm.tsx
│   │   │   │   ├── Layout.tsx
│   │   │   │   ├── NotesForm.tsx
│   │   │   │   ├── ServiceInstructeurSelect.tsx
│   │   │   │   ├── UdapSelection.tsx
│   │   │   │   ├── address.tsx
│   │   │   │   ├── audio-record
│   │   │   │   │   ├── SpeechRecorder.hook.tsx
│   │   │   │   │   ├── SpeechRecorder.machine.tsx
│   │   │   │   │   └── SpeechRecorder.tsx
│   │   │   │   ├── auth
│   │   │   │   │   ├── LoginForm.tsx
│   │   │   │   │   └── SignupForm.tsx
│   │   │   │   ├── chips
│   │   │   │   │   └── useChipOptions.tsx
│   │   │   │   ├── idb.ts
│   │   │   │   ├── keycloak
│   │   │   │   │   └── auth.ts
│   │   │   │   ├── menu
│   │   │   │   │   ├── ClauseMenu.tsx
│   │   │   │   │   ├── HelpMenu.tsx
│   │   │   │   │   ├── MenuActions.tsx
│   │   │   │   │   ├── MenuButton.tsx
│   │   │   │   │   ├── MenuTitle.tsx
│   │   │   │   │   ├── ServicesMenu.tsx
│   │   │   │   │   ├── Share.tsx
│   │   │   │   │   └── menuMachine.tsx
│   │   │   │   ├── report
│   │   │   │   │   ├── ReportActions.tsx
│   │   │   │   │   ├── ReportList.tsx
│   │   │   │   │   └── ReportListItem.tsx
│   │   │   │   ├── state-report
│   │   │   │   │   ├── MHAddressAutocomplete.tsx
│   │   │   │   │   ├── StateReportActions.tsx
│   │   │   │   │   ├── StateReportForm.tsx
│   │   │   │   │   ├── StateReportListItem.tsx
│   │   │   │   │   ├── StateReportSummary.tsx
│   │   │   │   │   ├── WithReferencePop.tsx
│   │   │   │   │   ├── alerts
│   │   │   │   │   │   ├── SectionCommentaires.tsx
│   │   │   │   │   │   ├── StateReportAlert.utils.tsx
│   │   │   │   │   │   ├── StateReportAlertObjetSectionForm.tsx
│   │   │   │   │   │   ├── StateReportAlertSectionForm.tsx
│   │   │   │   │   │   ├── StateReportAlerts.hook.tsx
│   │   │   │   │   │   ├── StateReportAlertsEmailInput.tsx
│   │   │   │   │   │   └── StateReportAlertsMenu.tsx
│   │   │   │   │   ├── pdf
│   │   │   │   │   │   ├── ConstatPdf.edit.tsx
│   │   │   │   │   │   ├── ConstatPdf.hook.tsx
│   │   │   │   │   │   ├── ConstatPdf.queries.tsx
│   │   │   │   │   │   ├── ConstatPdf.send.tsx
│   │   │   │   │   │   ├── ConstatPdf.sent.tsx
│   │   │   │   │   │   ├── ConstatPdf.view.tsx
│   │   │   │   │   │   └── ConstatPdfContext.ts
│   │   │   │   │   ├── side-menu
│   │   │   │   │   │   ├── StateReportSideMenu.store.tsx
│   │   │   │   │   │   └── StateReportSideMenu.tsx
│   │   │   │   │   ├── steps
│   │   │   │   │   │   ├── ConstatDetaille.tsx
│   │   │   │   │   │   ├── ConstatGeneral.tsx
│   │   │   │   │   │   ├── ContexteVisite.tsx
│   │   │   │   │   │   └── MonumentHistorique.tsx
│   │   │   │   │   └── utils.ts
│   │   │   │   ├── suggestionsMachine.ts
│   │   │   │   ├── text-editor
│   │   │   │   │   ├── ImageGrid.tsx
│   │   │   │   │   ├── TextEditor.tsx
│   │   │   │   │   ├── TextEditorContext.tsx
│   │   │   │   │   └── TextEditorToolbar.tsx
│   │   │   │   ├── upload
│   │   │   │   │   ├── DrawingCanvas.tsx
│   │   │   │   │   ├── UploadImage.tsx
│   │   │   │   │   ├── UploadImageButton.tsx
│   │   │   │   │   └── UploadReportImage.tsx
│   │   │   │   ├── useDocumentQueries.tsx
│   │   │   │   └── userSettings.ts
│   │   │   ├── hooks
│   │   │   │   ├── useActiveSection.tsx
│   │   │   │   ├── useAppStatus.tsx
│   │   │   │   ├── useCanEditReport.tsx
│   │   │   │   ├── useFormWithFocus.tsx
│   │   │   │   ├── useIntersectionObserver.tsx
│   │   │   │   ├── useIsDesktop.tsx
│   │   │   │   ├── useLocalStorageState.tsx
│   │   │   │   └── useUserSettings.tsx
│   │   │   ├── index.css
│   │   │   ├── main.tsx
│   │   │   ├── polyfill.ts
│   │   │   ├── routeTree.gen.ts
│   │   │   ├── routes
│   │   │   │   ├── __root.tsx
│   │   │   │   ├── account.tsx
│   │   │   │   ├── cgu.tsx
│   │   │   │   ├── connection.tsx
│   │   │   │   ├── constat.$constatId.tsx
│   │   │   │   ├── constat_.$constatId.pdf.tsx
│   │   │   │   ├── edit.$reportId.tsx
│   │   │   │   ├── index.tsx
│   │   │   │   ├── inscription.tsx
│   │   │   │   ├── mentions-legales.tsx
│   │   │   │   ├── pdf.$reportId.tsx
│   │   │   │   ├── reset-password.$link.tsx
│   │   │   │   ├── reset-password.index.lazy.tsx
│   │   │   │   └── service.tsx
│   │   │   ├── service-worker
│   │   │   │   └── sw.ts
│   │   │   ├── service-worker.d.ts
│   │   │   ├── utils.ts
│   │   │   └── vite-env.d.ts
│   │   ├── tsconfig.json
│   │   ├── tsconfig.node.json
│   │   └── vite.config.ts
│   └── pdf
│       ├── package.json
│       ├── src
│       │   ├── index.ts
│       │   ├── report.tsx
│       │   ├── serviceInstructeur.json
│       │   ├── stateReport.tsx
│       │   └── utils.tsx
│       └── tsconfig.json
├── patches
│   └── react-pdf-html@2.0.4.patch
├── playwright.config.ts
├── pnpm-lock.yaml
├── pnpm-workspace.yaml
├── powersync-config.yaml
├── scalingo.json
├── scripts
│   └── clear-db.sh
└── tests
    ├── app.spec.ts
    ├── user.spec.ts
    └── utils.ts
63 directories, 327 files
