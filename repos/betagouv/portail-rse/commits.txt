2026-02-11T17:33:58+01:00 - 927ade7 - emillumine : ajoute les indicateurs de C7
2026-02-11T17:33:58+01:00 - 04fb069 - emillumine : exporte les indicateurs de C7 dans l'export excel vsme
2026-02-11T10:43:23+01:00 - 5595609 - dependabot[bot] : build(deps): bump cryptography from 46.0.3 to 46.0.5
2026-02-10T12:24:21+01:00 - d03bcb4 - emillumine : active le reporting CSP et js avec une variable d'environnement le sentry est floodé par les erreurs js sur lesquelles on ne peut rien faire, on préfère les désactiver pour retrouver un usage correct de sentry c'est réactivable par variable d'environnement en cas de besoin suit la recommendantion de la doc officielle pour initialiser le sdk côté front https://docs.sentry.io/platforms/javascript/install/loader/ permet d'éviter des erreurs CORS en local
2026-02-06T16:10:10+01:00 - bb1b1e0 - emillumine : exporte les indicateurs de C5 dans l'export excel vsme
2026-02-06T16:10:10+01:00 - aa0b8ff - Stéphane : rend les indicateurs de C5 non applicables si moins de 50 salariés
2026-02-06T16:10:10+01:00 - 62fa36f - Stéphane : ajoute les indicateurs de C5
2026-01-28T18:36:14+01:00 - 65f10d6 - Stéphane : fix: wording: mauvaise description d'un bloc html
2026-01-27T17:43:15+01:00 - 1e5a57e - Stéphane : wording: homogénéité des noms dans les fils d'ariane ; ajout de fils manquants
2026-01-27T15:56:10+01:00 - f373702 - emillumine : exporte les indicateurs de C8 dans l'export excel
2026-01-27T15:56:10+01:00 - ca95fc0 - emillumine : wording/typo: homogénise l'affichage des unités des les champs d'indicateurs numériques
2026-01-27T15:56:10+01:00 - aa341dc - emillumine : ajoute les indicateurs de C8
2026-01-27T15:56:10+01:00 - 9d4e2fb - emillumine : ajoute une valeur par défaut initiale possible dans le schema des indicateurs
2026-01-27T15:56:10+01:00 - 8b549e3 - emillumine : fix: ajoute une balise html fermante manquante
2026-01-27T15:56:10+01:00 - 1dbc1dc - emillumine : ajoute un champ total combustibles fossiles calculé à partir des autres champs
2026-01-27T11:50:28+01:00 - 8df8250 - Stéphane : inversion de l'ordre des blocs Anticiper et Gérer
2026-01-27T11:50:28+01:00 - 7774bb1 - Stéphane : ajout d'une page intercalaire pour le rapport dans le tableau de bord
2026-01-27T11:50:28+01:00 - 627ac6d - Stéphane : ajout page statique ADM
2026-01-27T11:50:28+01:00 - 38e1669 - Stéphane : bloc rédaction du rapport caché tant qu'il est indisponible
2026-01-23T11:37:07+01:00 - c41a11a - emillumine : fix: corrige l'affichage des boutons radio en respectant le DSFR
2026-01-23T11:37:07+01:00 - a9bb6cb - emillumine : complète les indicateurs de l'exigence de publication C6
2026-01-23T11:37:07+01:00 - 83f8b6f - emillumine : ajoute le premier indicateur de C6
2026-01-23T11:37:07+01:00 - 73d30fd - emillumine : exporte les indicateurs de C6 dans l'export excel vsme
2026-01-23T11:37:07+01:00 - 0979416 - emillumine : refacto: supprime un hack spécifique à la checkbox du champ 'non pertinent' des vsme pour le généraliser à toutes les checkboxs La case à cocher seule du DSFR n'a pas de marge en dessous de l'élément On en ajoute une pour les champs de type checkbox qui ne sont PAS un élément d'un fieldset pour éviter d'ajouter une marge à chaque élément d'un groupe de checkbox (par exemple choix multiple)
2026-01-21T11:18:02+01:00 - 774809e - emillumine : ajoute l'unique indicateur de C9
2026-01-21T11:18:02+01:00 - 21b6510 - emillumine : exporte l'exigence de publication C9 dans l'export excel
2026-01-21T11:15:40+01:00 - e64fdc9 - Stéphane : doc: aide pour mettre à jour Sites Faciles
2026-01-21T11:02:18+01:00 - 586d676 - emillumine : fix: ignore les colonnes non trouvées dans les données stockées en base lors du décodage des nombres décimaux La colonne 'densite' par exemple a été ajoutée au schema après coup et des données stockées en base avant l'ajout généraient une KeyError lors du décodage des nombres décimaux
2026-01-21T09:58:23+01:00 - cf94a38 - dependabot[bot] : build(deps): bump weasyprint from 66.0 to 68.0
2026-01-21T09:54:16+01:00 - edbafef - dependabot[bot] : build(deps-dev): bump virtualenv from 20.34.0 to 20.36.1
2026-01-20T16:51:20+01:00 - ba5417b - Stéphane : fix: changement des années des rapports VSME fonctionnels sur Chrome
2026-01-15T13:54:22+01:00 - fbb05ec - emillumine : ajoute les indicateurs de l'exigence de publication C1
2026-01-15T13:54:22+01:00 - efa9252 - emillumine : fix: affiche la progression de l'exigence de publication uniquement si l'exigence de publication est applicable
2026-01-15T13:54:22+01:00 - af24c8b - emillumine : rend visibles les indicateurs non applicables mais non modifiables
2026-01-15T13:54:22+01:00 - 9f1867e - emillumine : calcule la progression en fonction du choix du module (base ou complet) effectué par l'utilisateur
2026-01-15T13:54:22+01:00 - 8dcdfb4 - emillumine : style: différencie les exigences de publication applicables et non applicables
2026-01-15T13:54:22+01:00 - 8d54597 - emillumine : rend les indicateurs du module complet inapplicables si l'utilisateur a sélectionné le module de base dans B1
2026-01-15T13:54:22+01:00 - 79a07d3 - emillumine : wording
2026-01-15T13:54:22+01:00 - 774aecc - emillumine : ajoute un lien vers l'exigence de publication concernée dans l'explication d'un indicateur non applicable
2026-01-15T13:54:22+01:00 - 6e83434 - emillumine : exporte l'exigence de publication C1 uniquement pour les rapports basés sur le module complet
2026-01-15T13:54:22+01:00 - 67073ae - emillumine : fix: adapte le texte dans le premier onglet du template vsme en fonction du choix du module
2026-01-15T13:54:22+01:00 - 4184a32 - emillumine : retour métier: module complet par défaut
2026-01-15T13:54:22+01:00 - 130c3ec - emillumine : affiche seulement les exigences de publication applicables dans l'indicateur B1-24-b Omission d'informations
2026-01-09T15:37:46+01:00 - b1c9205 - Stéphane : fix: correction du calcul d'énergie
2026-01-09T15:37:46+01:00 - 996d846 - emillumine : fix: corrige l'export excel de B3 avec l'ajout des 2 colonnes supplémentaires
2026-01-09T15:37:46+01:00 - 56bf27e - Stéphane : exigence B3: ajout de colonnes montrant les valeurs utilisées dans les calculs
2026-01-09T15:37:46+01:00 - 34b5373 - emillumine : corrige le type des champs NCV et densité
2026-01-09T15:37:46+01:00 - 165c0db - Stéphane : ajout d'unités dans le tableau de consommation de combustibles
2026-01-08T14:51:08+01:00 - ac27d93 - Stéphane : fix: code html correctement interprété
2026-01-08T12:04:48+01:00 - 7e4d181 - emillumine : tests: ajoute un minimum de tests sur les nombres décimaux
2026-01-08T12:04:48+01:00 - 6be1906 - emillumine : fix: corrige les calculs sur les nombres décimaux
2026-01-08T12:04:48+01:00 - 0f1ab98 - emillumine : refacto: décode et ajoute les données calculées systématiquement à la donnée brute stockée en base lorsqu'on y accède
2026-01-08T12:04:48+01:00 - 0351b81 - Stéphane : refacto: extraction d'une fonction
2026-01-08T11:01:08+01:00 - dcf0c37 - dependabot[bot] : build(deps): bump urllib3 from 2.6.0 to 2.6.3
2026-01-07T14:17:31+01:00 - 2a64279 - dependabot[bot] : build(deps): bump aiohttp from 3.12.15 to 3.13.3
2026-01-07T14:07:35+01:00 - 985b575 - emillumine : améliore l'affichage et la recherche des rapports vsme dans l'admin
2026-01-05T16:39:11+01:00 - 3861882 - Frédéric Vergez : fix(tests): correction des valeurs d'années hardcodées pour les rapports VSME
2025-12-20T13:28:21+01:00 - fab7665 - emillumine : fix: supprime un type de combustible gazeux dont on ne connait pas la densité qui provoque un bug Le template de l'EFRAG (d'où on récupère la donnée et les calculs) est aussi bugué pour ce type de combustible
2025-12-20T13:28:21+01:00 - f047a35 - emillumine : style: améliore légèrement les espacements d'un champ tableau
2025-12-20T13:28:21+01:00 - ee9becc - emillumine : fix: arrondit les conso d'énergie et l'intensité GES uniquement si le chiffre est supérieur à 1 Il n'est pas improbable que l'intensité GES soit particulièrement faible si le CA est grand et on ne veut pas arrondir 0,00000005 à 0 par exemple
2025-12-20T13:28:21+01:00 - e83c94f - emillumine : fix: affiche les champs calculés lors de l'ajout ou suppression de ligne
2025-12-20T13:28:21+01:00 - d545113 - emillumine : wording: améliore la description des différents champs
2025-12-20T13:28:21+01:00 - c76a039 - emillumine : fix: permet d'avoir deux tableaux dans un indicateur en prefixant les formsets de django
2025-12-20T13:28:21+01:00 - bb426e0 - emillumine : wip: ajoute l'indicateur combustibles de B3
2025-12-20T13:28:21+01:00 - a79395d - emillumine : exporte B3 dans le template excel
2025-12-20T13:28:21+01:00 - 9ddc869 - emillumine : affiche joliment un tableau sans ligne
2025-12-20T13:28:21+01:00 - 99d10df - emillumine : fix: corrige l'affichage d'un champ calculé de type choix dans un tableau
2025-12-20T13:28:21+01:00 - 8cb295b - emillumine : ajoute le premier indicateur de B3
2025-12-20T13:28:21+01:00 - 6e165eb - emillumine : style: ajout d'un espace séparateur après un tableau
2025-12-20T13:28:21+01:00 - 6cf2e65 - emillumine : fix: résout l'erreur quand on indique l'indicateur B7-38-ab Gestion des déchets comme non pertinent
2025-12-20T13:28:21+01:00 - 683a630 - Stéphane : ajout indicateur B3-30
2025-12-20T13:28:21+01:00 - 5528410 - Stéphane : calcule l'énergie en fonction de la quantité de combustible saisie
2025-12-20T13:28:21+01:00 - 51dc93a - emillumine : calcule le total d'énergie consommée en fonction des combustibles saisis
2025-12-20T13:28:21+01:00 - 4bb184e - emillumine : un champ peut provoquer le calcul de plusieurs champs
2025-12-20T13:28:21+01:00 - 45330fa - emillumine : refacto: renomme des ids de champs pour plus de cohérence
2025-12-20T13:28:21+01:00 - 4212ddf - Stéphane : afichage des résultats de calcul de combustion sur deux décimales maximum
2025-12-20T13:28:21+01:00 - 33756ec - emillumine : résiste mieux aux cas limites de structures de données qui changeraient
2025-12-20T13:28:21+01:00 - 2c8e733 - Stéphane : refacto: sélection des combustibles documentés par un champ select
2025-12-20T13:28:21+01:00 - 2976a3f - emillumine : ajoute un tableau d'autres combustibles qu'on ne sait pas calculer automatiquement fix: permet plusieurs tableaux (à lignes variables) dans le même indicateur
2025-12-20T13:28:21+01:00 - 26fa7cf - emillumine : calcule le total des émissions et l'intensité GES
2025-12-20T13:28:21+01:00 - 1810dec - emillumine : fix: n'importe quel type de champ peut provoquer un calcul ou être calculé
2025-12-20T13:28:21+01:00 - 1594b10 - emillumine : fix: supprime le déclenchement de la requête htmx au chargement de l'élément pour éviter de provoquer la soumission du tableau autres combustibles invalide lorsqu'une ligne vide est ajoutée
2025-12-20T13:28:21+01:00 - 12a6ca7 - Stéphane : wording: Efrag à  l'origine du convertisseur de combustible
2025-12-19T16:32:50+01:00 - f562fba - Frédéric Vergez : fix: adaptation aux CSP
2025-12-19T16:32:50+01:00 - db0a3b1 - emillumine : utilise la vue de toggle pour calculer dynamiquement les champs calculés il faudrait renommer la vue toggle_pertinent qui ne fait plus seulement ça du coup
2025-12-19T16:32:50+01:00 - a209904 - Stéphane : vsme: refacto: déplacement et renommage d'une fonction
2025-12-19T16:32:50+01:00 - a004860 - Frédéric Vergez : feat: ajout de validateurs sur l'année du rapport VSME
2025-12-19T16:32:50+01:00 - 6533711 - Frédéric Vergez : feat: prise en compte de la date de cloture de l'exercice
2025-12-19T16:32:50+01:00 - 62a7a14 - Stéphane : refacto: vsme: déplacement de la définition d'une fonction
2025-12-19T16:32:50+01:00 - 4ca35b7 - Frédéric Vergez : feat: ajout test navigation VSME
2025-12-19T16:32:50+01:00 - 38d2035 - Frédéric Vergez : feat: ajout tests validateur / années
2025-12-19T16:32:50+01:00 - 377217e - Frédéric Vergez : feat: sélection de l'année de rapport VSME
2025-12-19T16:32:50+01:00 - 1bb3529 - Frédéric Vergez : fix: maj test pour gestion des années
2025-12-19T16:32:50+01:00 - 073dcdb - emillumine : refacto: remplace un bout de script js par du htmx
2025-12-19T12:12:34+01:00 - e61e15c - dependabot[bot] : build(deps-dev): bump filelock from 3.19.1 to 3.20.1
2025-12-16T14:12:46+01:00 - ebccbd1 - dependabot[bot] : build(deps): bump urllib3 from 2.5.0 to 2.6.0
2025-12-12T14:31:44+01:00 - f600e8b - emillumine : fix: corrige le type de l'id enregistré dans le tableau des sites situés dans les zones sensibles
2025-12-12T14:31:44+01:00 - ee1c353 - emillumine : fix: rend obligatoire la saisie d'un champ choix_binaire_radio (radio oui/non)
2025-12-12T14:31:44+01:00 - e5bc779 - emillumine : fix: ajoute les colonnes 'Unités' des indicateurs de B5 dans le template d'export xlsx
2025-12-12T14:31:44+01:00 - ac563ad - emillumine : refacto: centralise le calcul des choix pour les indicateurs de type choix simple ou multiple
2025-12-12T14:31:44+01:00 - a1d9bac - emillumine : refacto: déplace des calculs maintenant que le rapport vsme est passé en paramètre pour permettre le calcul du choix des sites, autant exploiter les informations contenues dans le rapport vsme au plus près de là où en a besoin pour les autres calculs
2025-12-12T14:31:44+01:00 - 9ac4fc1 - emillumine : ajoute un indicateur de B5 qui dépend des sites renseignés dans B1
2025-12-12T14:31:44+01:00 - 7bc9456 - emillumine : fix: rend facultatifs les champs obligatoires si non pertinent est sélectionné l'initialisation d'un formulaire DsfrForm ne fait plus de validation des données
2025-12-12T14:31:44+01:00 - 6e17692 - emillumine : fix: corrige l'affichage d'un champ incaculable
2025-12-12T14:31:44+01:00 - 2163afa - Stéphane : vsme: export B5 dans le fichier xlsx
2025-12-12T14:31:44+01:00 - 0469402 - emillumine : fix: n'exporte plus d'anciennes données éventuelles enregistrées lorsque le champ est marqué comme non pertinent
2025-12-09T20:12:12+01:00 - a4071a3 - Frédéric Vergez : fix: redirection des headers HTTPS pour Django
2025-12-09T19:39:39+01:00 - 4c49fec - Frédéric Vergez : feat: ajout du buildpack nginx et filtrage
2025-12-09T19:39:39+01:00 - 101eddd - Frédéric Vergez : fix(secu): retrait du middleware
2025-12-09T14:30:37+01:00 - 135eae2 - Stéphane : wording: explicitation que proconnect fait aussi la création de compte
2025-12-09T14:24:48+01:00 - 295b25b - Stéphane : admin: visualisation des logs, non modifiables
2025-12-09T14:22:57+01:00 - f594f1d - emillumine : affiche seulement la valeur d'un indicateur à la place d'un champ de saisie si celui-ci est calculé
2025-12-09T14:22:57+01:00 - e92193c - Stéphane : refacto: vsme: déplacement de la définition d'une fonction
2025-12-09T14:22:57+01:00 - e2fd6bb - emillumine : calcule les champs calculés des indicateurs de B10
2025-12-09T14:22:57+01:00 - dc62e61 - emillumine : refacto: supprime une fonction passe plat
2025-12-09T14:22:57+01:00 - c3231d4 - emillumine : raffraichit dynamiquement les champs calculés dès la saisie d'un changement ajoute l'extension htmx idiomorph https://htmx.org/extensions/idiomorph/ pour éviter un problème de focus https://github.com/bigskysoftware/htmx/issues/3329
2025-12-09T14:22:57+01:00 - c2a0019 - emillumine : refacto: supprime une variable inutilisée
2025-12-09T14:22:57+01:00 - c25558b - Stéphane : vsme: ajout de B10 dans l'export xlsx, ajout de colonnes pour B1 et B8
2025-12-09T14:22:57+01:00 - abd1ee4 - Stéphane : esthetique: le texte d'aide n'est pas en gras, même si dans une en-tête de colonne
2025-12-09T14:22:57+01:00 - a4a8dc5 - emillumine : refacto: fusionne deux vues pour simplifier le code
2025-12-09T14:22:57+01:00 - 9269ed6 - emillumine : utilise la vue de toggle pour calculer dynamiquement les champs calculés il faudrait renommer la vue toggle_pertinent qui ne fait plus seulement ça du coup
2025-12-09T14:22:57+01:00 - 8cafde3 - emillumine : refacto: supprime du code mort
2025-12-09T14:22:57+01:00 - 8a85589 - Stéphane : vsme: refacto: déplacement et renommage d'une fonction
2025-12-09T14:22:57+01:00 - 8881e9d - emillumine : affiche le libellé du choix plutôt que la valeur dans les champs calculé de type choix
2025-12-09T14:22:57+01:00 - 79603e0 - Stéphane : vsme: fix: résultat de calculs si une des valeurs vaut 0
2025-12-09T14:22:57+01:00 - 6de7420 - Stéphane : vsme: affichage du label correspondant à un choix dans le xlsx
2025-12-09T14:22:57+01:00 - 6b06d76 - emillumine : refacto: factorise la récupération du nombre de salariés
2025-12-09T14:22:57+01:00 - 670f851 - Stéphane : vsme: wording: modifier d'un label du champ non pertinent pour le rendre explicite
2025-12-09T14:22:57+01:00 - 41ddf63 - Stéphane : vsme: explicitation dans l'interface des champs calculés
2025-12-09T14:22:57+01:00 - 4125f4b - emillumine : préremplit l'indicateur écart de rémunération hommes/femmes (B10-42-b) comme non pertinent si le nombre de salariés est inférieur à 150
2025-12-09T14:22:57+01:00 - 340c343 - Stéphane : vsme: cosmétique
2025-12-09T14:22:57+01:00 - 33b9688 - Stéphane : fixup: résultat de calculs
2025-12-09T14:22:57+01:00 - 1acc1f0 - emillumine : ajoute le schema des indicateurs de B10
2025-12-09T14:22:57+01:00 - 175f957 - emillumine : WIP réaffiche dynamiquement l'indicateur lorsqu'un calcul est nécessaire
2025-12-09T14:22:57+01:00 - 165cd03 - Stéphane : refacto: vsme: extraction d'une méthode
2025-12-09T14:22:57+01:00 - 0957d5b - emillumine : précise la description des champs calculés
2025-12-09T14:22:57+01:00 - 0596394 - Stéphane : refacto: vsme: renommage d'une fonction et l'URL liée
2025-12-09T14:12:37+01:00 - d0408e3 - emillumine : remplace le template excel de l'EFRAG par la nouvelle version disponible
2025-12-09T14:03:49+01:00 - cbaebe7 - emillumine : fix: résout un problème d'indentation qui fait échouer toutes les requêtes
2025-12-09T11:46:39+01:00 - 77f5571 - Frédéric Vergez : fix(secu): version améliorée du middleware de filtrage
2025-12-08T18:19:55+01:00 - bf6230a - Frédéric Vergez : feat(secu): ajout d'un blocage d'IP
2025-12-08T18:19:55+01:00 - 5cd6161 - Frédéric Vergez : feat(secu): ajout du middleware de filtrage IP
2025-12-08T18:19:55+01:00 - 58fab88 - Frédéric Vergez : fix(secu): ajout de BLOCKED_IP_SUBNETS dans .env.example
2025-12-05T12:04:25+01:00 - 6856459 - dependabot[bot] : build(deps): bump fonttools from 4.60.1 to 4.61.0
2025-12-05T11:44:50+01:00 - 58e5359 - dependabot[bot] : build(deps): bump django from 5.1.14 to 5.1.15
2025-12-02T17:42:14+01:00 - e9afb37 - Frédéric Vergez : chore(tests): ajout des tests de handler
2025-12-02T17:42:14+01:00 - 744d811 - Frédéric Vergez : chore(tests): ajout des tests de modèle de logs
2025-12-02T17:42:14+01:00 - 5a1afd7 - Frédéric Vergez : chore(tests): ajout des tests de décorateur
2025-12-02T17:38:39+01:00 - 29ceb68 - Frédéric Vergez : fix(secu): désactivation de l'audit des signatures
2025-12-02T17:08:56+01:00 - a60a4cb - Frédéric Vergez : fix(secu): vérification de la signature des paquets
2025-12-02T17:05:20+01:00 - c165f81 - Frédéric Vergez : fix(secu): utilisation de ignore-scripts
2025-12-02T17:05:20+01:00 - 48b943b - Frédéric Vergez : fix(secu): utilisation explicite de npm --ignore-scripts
2025-11-27T19:11:32+01:00 - e222ccd - Stéphane : security: remplace le npm install par un npm ci dans le Makefile
2025-11-26T16:37:16+01:00 - 8af743b - emillumine : security: remplace le npm install par un npm ci dans les github actions un npm install peut installer des dépendances qui ne sont pas dans package-lock.json ce qui est problématique en cas d'attaque de type Shai-Hulud
2025-11-25T17:13:31+01:00 - 78dc43c - Stéphane : refacto: déplacement de l'export xlsx dans un fichier dédié
2025-11-25T10:56:57+01:00 - c1e8a08 - emillumine : fix: rétablit les logs et l'utilisation de pdb en local
2025-11-21T10:57:44+01:00 - b87108b - emillumine : fix: n'exporte que les indicateurs applicables et simplifie le code
2025-11-21T10:57:44+01:00 - 7b003ad - emillumine : refacto: remplace une fonction d'export
2025-11-21T10:57:44+01:00 - 5d7971e - emillumine : refacto: améliore la lisibilité du code d'export
2025-11-20T18:50:10+01:00 - a513862 - dependabot[bot] : build(deps): bump brotli from 1.1.0 to 1.2.0
2025-11-20T18:40:24+01:00 - c737597 - dependabot[bot] : build(deps): bump joserfc from 1.4.1 to 1.4.2
2025-11-19T17:33:12+01:00 - d570ef6 - Frédéric Vergez : feat: modification des accès du tableau de bord
2025-11-19T17:33:12+01:00 - b9a37ed - Frédéric Vergez : feat: utilisation de décorateurs pour certains logs
2025-11-19T17:33:12+01:00 - 7458592 - Frédéric Vergez : feat: vignettes pour les tuiles
2025-11-19T17:33:12+01:00 - 62f64ac - Frédéric Vergez : fix: index
2025-11-19T17:33:12+01:00 - 627ddbc - Frédéric Vergez : fix: modification des sections d'affichage
2025-11-19T17:33:12+01:00 - 3de4cb1 - Frédéric Vergez : feat: calcul pourcentage de progression VSME
2025-11-19T17:33:12+01:00 - 3610f87 - Frédéric Vergez : feat: ajout de logs
2025-11-19T17:31:41+01:00 - fc659eb - emillumine : refacto: renomme et clarifie
2025-11-19T17:31:41+01:00 - eac87de - Stéphane : bouton de téléchargement du tableur VSME plus visible dans la page
2025-11-19T17:31:41+01:00 - e37a819 - emillumine : manipule des cellules openpyxl plutôt que des coordonnées de cellule et calcule les cellules de destination correspondant aux différents champs d'un indicateur de façon moins naÏve évite un problème si un tableau est suivi d'un autre champ
2025-11-19T17:31:41+01:00 - d16145f - Stéphane : remplacement des codes juridiques, exigence et nace par leurs intitulés
2025-11-19T17:31:41+01:00 - caa60ea - Stéphane : refacto: réutilisation de fonctions fournies par openpyxl
2025-11-19T17:31:41+01:00 - c17dbde - Stéphane : refacto: renommage de fonctions internes
2025-11-19T17:31:41+01:00 - c0f0757 - Stéphane : remplissage d'indicateurs et d'exigences de publication manquants
2025-11-19T17:31:41+01:00 - bfa6d46 - Stéphane : vsme: affichage du nom d'un pays plutôt que son code ISO dans le tableur
2025-11-19T17:31:41+01:00 - 77cc22f - Stéphane : vsme: export des données B2 dans un fichier xlsx
2025-11-19T17:31:41+01:00 - 6a5c22b - Stéphane : export B1 pour le fichier xlsx des VSME
2025-11-19T17:31:41+01:00 - 5bb1004 - Stéphane : refacto: factorisation du formatage de l'export selon le type de données enregistrées
2025-11-19T17:31:41+01:00 - 5af9733 - Stéphane : insertion de colonnes manquantes dans B1
2025-11-19T17:31:41+01:00 - 4246fbb - Stéphane : refacto: déduplication de conditions et de fonctions
2025-11-19T17:31:41+01:00 - 40b4702 - Stéphane : remplissage des champs manquants
2025-11-19T17:31:41+01:00 - 386ce0d - emillumine : fix: corrige l'export particulier de B8 Lorsqu'un tableau à lignes fixes ne contient qu'une colonne, on transpose les lignes en colonnes plutôt qu'en lignes dans le tableur. Le cas particulier des pays reste traité spécifiquement vu la complexité.
2025-11-19T17:31:41+01:00 - 342586b - Stéphane : refacto: découpe mieux l'export d'un champ
2025-11-19T17:31:41+01:00 - 2af9758 - Stéphane : refacto: insertion d'une fontion intermédiaire pour améliorer la généricité
2025-11-19T17:31:41+01:00 - 1cb6cf9 - emillumine : fix: n'exporte plus les indicateurs de B11 dans l'onglet B1 et simplifie le code
2025-11-19T17:31:41+01:00 - 16ed6d5 - emillumine : fix: conserve l'ordre des colonnes et des lignes du schema dans l'export il semble d'après des tests sur la recette que postgres ne conserve pas forcément l'ordre des clés d'un dictionnaire dans un jsonfield
2025-11-19T17:31:41+01:00 - 1120fb5 - emillumine : remplace le code du pays par son nom dans l'export de B8
2025-11-19T17:31:41+01:00 - 008945d - emillumine : refacto: factorise le formattage de la valeur dans les différents tyoes d'export pour éviter des duplications
2025-11-19T11:56:22+01:00 - 357f62c - emillumine : refacto: supprime une variable de contexte devenue inutile
2025-11-19T11:47:29+01:00 - 0698ecb - emillumine : ajoute un fil d'arianne sur les espaces CSRD et BDESE pour faciliter le retour en arrière vers le tableau de bord
2025-11-19T09:17:37+01:00 - 8ae3753 - Frédéric Vergez : feat: ajout d'un décorateur pour logger les parcours utilisateurs
2025-11-18T10:57:14+01:00 - e2ba223 - emillumine : remplit la page du tableau de bord qui permet de choisir d'accéder soit à la simulation simplifiée soit au tableau de bord des réglementations
2025-11-18T10:57:14+01:00 - cda1a24 - emillumine : ajoute un fil d'arianne sur les réglementations du tableau de bord
2025-11-18T10:57:14+01:00 - bfc6811 - emillumine : wording
2025-11-18T10:57:14+01:00 - 9b48880 - emillumine : dirige le menu 'Mes réglementations' du tableau de bord vers une nouvelle page accessible sans entreprise qualifiée cette page qui est vide pour le moment permettra de choisir d'accéder soit à la simulation soit au tableau de bord des réglementations
2025-11-17T13:42:13+01:00 - e8015f5 - emillumine : refacto: renomme les indicateurs actifs en indicateurs applicables pour respecter le vocabulaire métier
2025-11-17T13:42:13+01:00 - d8ab88b - emillumine : wording: modifie un label suite à retours produit
2025-11-17T13:42:13+01:00 - ce67fc5 - Stéphane : tests: couverture du premier validateur spécifique (comparaison du total de salariés)
2025-11-17T13:42:13+01:00 - bba3830 - emillumine : active l'indicateur effectif par pays seulement s'il y a plusieurs pays
2025-11-17T13:42:13+01:00 - b522232 - emillumine : complète les indicateurs de B8
2025-11-17T13:42:13+01:00 - affc1cc - emillumine : ajoute un validateur sur l'indicateur de gestion des déchets pour vérifier la cohérence des données saisies corrige les schema id des indicateurs de B7, un script en prod devra s'assurer qu'il n'existe pas d'indicateurs avec l'ancien schema id ou bien les migrer
2025-11-17T13:42:13+01:00 - a5580ae - emillumine : refacto: déplace la fabrication de l'url de la bascule de la pertinence dans le formulaire maintenant que le rapport vsme est passé en argument, il n'est plus vraiment nécessaire de passer toggle_pertinence_url comme paramètre mais cela nécessite tout de même de passer le schema id (dans le schema de l'indicateur ici), ce qui n'était pas le cas avant
2025-11-17T13:42:13+01:00 - 6873ae1 - emillumine : ajout d'une catégorie dans l'indicateur effectifs par genre (B8-39-b)
2025-11-17T13:42:13+01:00 - 6422373 - emillumine : refacto: simplifie un argument qui n'a pas besoin d'être stocké en attribut de classe
2025-11-17T13:42:13+01:00 - 63466ce - emillumine : WIP: ajoute l'indicateur effectif par pays dont les lignes dépendent d'un autre indicateur
2025-11-17T13:42:13+01:00 - 5efe1e8 - emillumine : tests: refacto pour simplifier des tests
2025-11-17T13:42:13+01:00 - 5c8b58e - emillumine : valide que le total des nombres de salariés par catégorie est égal au nombre de salariés déclarés dans B1
2025-11-17T13:42:13+01:00 - 37361d2 - emillumine : préremplit l'indicateur taux de rotation du personnel si le nombre de salariés saisi dans B1 est inférieur à 50
2025-11-17T13:42:13+01:00 - 16c734c - emillumine : fix: corrige l'initialisation du tableau à lignes fixes dans le cas où les lignes peuvent changer car dépendantes d'un autre indicateur
2025-11-14T11:44:29+01:00 - 3f28e1a - Frédéric Vergez : fix(sécu): suite à commentaire sur YWH-650281
2025-11-13T10:47:54+01:00 - 00570ed - emillumine : archive un script (naïf) d'export d'entreprises d'un département utilisé en prod
2025-11-13T09:58:07+01:00 - 7e1ad62 - Frédéric Vergez : feat: ajout d'un schéma général d'architecture
2025-11-12T11:53:53+01:00 - 9c0253b - Stéphane : fix: admin: possibilité de modifier ou d'ajouter une entreprise sans ajouter une analyse IA
2025-11-12T11:31:48+01:00 - fd60ee9 - Stéphane : ajout de l'exigence de publication B7
2025-11-12T11:31:48+01:00 - f1a26f3 - emillumine : fix: corrige le schéma de l'indicateur B7-38ab
2025-11-12T11:31:48+01:00 - 0b9c18f - emillumine : précise l'unité en petit dans les entêtes de colonnes de la même manière que dans un champ normal
2025-11-12T11:19:15+01:00 - 8876740 - Frédéric Vergez : fix: modification .gitignore
2025-11-12T11:13:28+01:00 - 6bacb38 - Frédéric Vergez : fix(tests): tests impactés par la correction de la vulnérabilité
2025-11-07T18:19:19+01:00 - 75d9e68 - Frédéric Vergez : fix(secu): Mitigation de YWH-650281
2025-11-07T11:42:32+01:00 - 43d8d43 - Stéphane : fourniture du nom des fichiers uploadé dans metabase
2025-11-07T10:33:08+01:00 - f1bde70 - emillumine : supprime le modèle DocumentAnalyseIA obsolète
2025-11-07T10:33:08+01:00 - e361f46 - Stéphane : fix: suppression d'une balise HTML ouvrante non fermée
2025-11-07T10:33:08+01:00 - cb1c113 - Stéphane : refacto: déplacement de l'instanciation de la CSRD
2025-11-07T10:33:08+01:00 - c617c8b - Stéphane : refacto: factorisation du lancement de l'analyse IA
2025-11-07T10:33:08+01:00 - c047536 - emillumine : vérifie que le rapport csrd est bien cohérent avec l'entreprise dans le décorateur csrd_valide_si_entreprise
2025-11-07T10:33:08+01:00 - c035c56 - Stéphane : tests: refacto: disparition des SIREN contournant des erreurs dans les tests
2025-11-07T10:33:08+01:00 - b514cc5 - Stéphane : refacto: déplacement d'une fonction utilitaire
2025-11-07T10:33:08+01:00 - ae6a305 - emillumine : refacto: supprime du code qui fait doublon pour éviter plusieurs manières de récupérer les mêmes objets
2025-11-07T10:33:08+01:00 - 8b8a2fc - Stéphane : affichage de l'erreur si le fichier envoyé n'est pas acceptable pour une analyse IA
2025-11-07T10:33:08+01:00 - 868b978 - Stéphane : refacto: factorisation de la route d'ajout de document
2025-11-07T10:33:08+01:00 - 7a10ef0 - Stéphane : admin: affichage des AnalyseIA
2025-11-07T10:33:08+01:00 - 68d5769 - Stéphane : refacto: factorisation de la route retournant l'état d'une analyse IA
2025-11-07T10:33:08+01:00 - 3b591c1 - Stéphane : refacto: factorisation de la route de suppression de document
2025-11-07T10:33:08+01:00 - 2c776b5 - Stéphane : refacto: déplacement d'un décorateur dans le module dédié
2025-11-07T10:33:08+01:00 - 20a174c - emillumine : refacto: supprime une variable inutilisée
2025-11-07T10:33:08+01:00 - 1a82714 - emillumine : refacto: supprime du code spécifique aux analyses CSRD qui est dupliqué dans le module analyseia
2025-11-07T10:33:08+01:00 - 184e9f1 - Stéphane : refacto: factorisation de la route de maj de l'état d'une analyse par le serveur IA
2025-11-07T10:33:08+01:00 - 121a161 - emillumine : refacto: supprime du code obsolète
2025-11-07T10:33:08+01:00 - 0e310a4 - emillumine : rejette les requêtes invalides sur la route de callback API IA idéalement il faudrait surtout la sécuriser avec de l'authentification
2025-11-05T16:56:20+01:00 - ceaea82 - Frédéric Vergez : fix(deps:: Màj vers Django 5.1.14
2025-11-04T12:15:56+01:00 - cb1ebf5 - emillumine : doc: ajoute une espace insécable pour pouvoir redéployer
2025-11-04T12:13:16+01:00 - 94878e3 - emillumine : ajoute les indicateurs de B6 le label du champ si pertinent peut être personnalisé
2025-11-04T12:13:16+01:00 - 709e5e2 - emillumine : rend plus visible l'unité des indicateurs dans la description du champ de saisie
2025-11-04T12:13:16+01:00 - 490e556 - Stéphane : ajout d'espaces insécables
