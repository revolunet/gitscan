.
├── .buildpacks
├── .github
│   ├── ISSUE_TEMPLATE
│   │   ├── bug_report.md
│   │   ├── config.yaml
│   │   └── task_template.md
│   ├── dependabot.yml
│   └── workflows
│       ├── prod-deployment.yml
│       └── staging-deployment.yml
├── .gitignore
├── .gitleaks.toml
├── .husky
│   ├── commit-msg
│   └── pre-commit
├── .idea
│   ├── .gitignore
│   ├── codeStyles
│   │   ├── Project.xml
│   │   └── codeStyleConfig.xml
│   ├── git_toolbox_blame.xml
│   ├── git_toolbox_prj.xml
│   ├── inspectionProfiles
│   │   └── Project_Default.xml
│   ├── material_theme_project_new.xml
│   ├── prettier.xml
│   └── vcs.xml
├── .npmrc
├── .prettierrc
├── .talismanrc
├── LICENCE
├── ONBOARDING.md
├── Procfile
├── README.md
├── api
│   ├── .env.template
│   ├── .gitignore
│   ├── .npmrc
│   ├── .prettierignore
│   ├── .prettierrc
│   ├── .slugignore
│   ├── .talismanrc
│   ├── ADR
│   │   ├── API_CREATE.md
│   │   ├── API_SYNCHRONIZATION.md
│   │   ├── PERMISSIONS.md
│   │   └── STATUS.md
│   ├── CHANGELOG.md
│   ├── CONNECTING_SERVICE.md
│   ├── LICENSE
│   ├── README.md
│   ├── docker-compose.e2e-test.yml
│   ├── docker-compose.yaml
│   ├── drizzle
│   │   ├── 0000_tearful_sinister_six.sql
│   │   ├── 0001_clear_frightful_four.sql
│   │   ├── 0002_mighty_azazel.sql
│   │   ├── 0003_overconfident_karen_page.sql
│   │   ├── 0004_bouncy_reavers.sql
│   │   ├── 0005_mature_santa_claus.sql
│   │   ├── 0006_lying_thanos.sql
│   │   ├── 0007_modern_vision.sql
│   │   ├── 0008_lyrical_wallow.sql
│   │   ├── 0009_marvelous_zaran.sql
│   │   ├── 0010_nice_mephisto.sql
│   │   ├── 0011_skinny_the_stranger.sql
│   │   ├── 0012_same_betty_ross.sql
│   │   ├── 0013_amazing_spectrum.sql
│   │   ├── 0014_stale_firebird.sql
│   │   ├── 0015_abandoned_wolverine.sql
│   │   ├── 0016_absurd_mordo.sql
│   │   ├── 0017_nasty_gwen_stacy.sql
│   │   ├── 0018_steep_daimon_hellstrom.sql
│   │   ├── 0019_lying_warbound.sql
│   │   ├── 0020_worthless_skaar.sql
│   │   ├── 0021_marvelous_lifeguard.sql
│   │   ├── 0022_numerous_chameleon.sql
│   │   ├── 0023_left_toad.sql
│   │   ├── 0024_nappy_mastermind.sql
│   │   ├── 0025_loving_dark_beast.sql
│   │   ├── 0026_sour_vermin.sql
│   │   ├── 0027_sudden_smasher.sql
│   │   └── meta
│   │       ├── 0000_snapshot.json
│   │       ├── 0001_snapshot.json
│   │       ├── 0002_snapshot.json
│   │       ├── 0003_snapshot.json
│   │       ├── 0004_snapshot.json
│   │       ├── 0005_snapshot.json
│   │       ├── 0006_snapshot.json
│   │       ├── 0007_snapshot.json
│   │       ├── 0008_snapshot.json
│   │       ├── 0009_snapshot.json
│   │       ├── 0010_snapshot.json
│   │       ├── 0011_snapshot.json
│   │       ├── 0012_snapshot.json
│   │       ├── 0013_snapshot.json
│   │       ├── 0014_snapshot.json
│   │       ├── 0015_snapshot.json
│   │       ├── 0016_snapshot.json
│   │       ├── 0017_snapshot.json
│   │       ├── 0018_snapshot.json
│   │       ├── 0019_snapshot.json
│   │       ├── 0020_snapshot.json
│   │       ├── 0021_snapshot.json
│   │       ├── 0022_snapshot.json
│   │       ├── 0023_snapshot.json
│   │       ├── 0024_snapshot.json
│   │       ├── 0025_snapshot.json
│   │       ├── 0026_snapshot.json
│   │       ├── 0027_snapshot.json
│   │       └── _journal.json
│   ├── drizzle.config.ts
│   ├── eslint.config.js
│   ├── nest-cli.json
│   ├── openapi3.yml
│   ├── package.json
│   ├── scripts
│   │   ├── generate-types.sh
│   │   ├── import-projets-tet
│   │   │   ├── import-projets-tet-data.csv
│   │   │   └── import-projets-tet.ts
│   │   ├── import-services-and-services-context
│   │   │   ├── import-services-and-services-context.spec.ts
│   │   │   ├── import-services-and-services-contexts.ts
│   │   │   ├── parse-service-and-service-context.ts
│   │   │   ├── services-context-import.csv
│   │   │   └── services-import.csv
│   │   ├── seed-communes-and-epci
│   │   │   └── seed-communes-and-epci.ts
│   │   └── utils.ts
│   ├── src
│   │   ├── analytics
│   │   │   ├── analytics.controller.ts
│   │   │   ├── analytics.dto.ts
│   │   │   ├── analytics.module.ts
│   │   │   ├── analytics.service.ts
│   │   │   ├── api-usage.service.ts
│   │   │   └── type.ts
│   │   ├── app.module.ts
│   │   ├── app.service.ts
│   │   ├── auth
│   │   │   ├── api-key-guard.ts
│   │   │   ├── public.decorator.ts
│   │   │   └── service-api-key-guard.ts
│   │   ├── database
│   │   │   ├── database.module.ts
│   │   │   ├── database.service.ts
│   │   │   └── schema.ts
│   │   ├── exceptions
│   │   │   ├── global-exception-filter.ts
│   │   │   └── utils.ts
│   │   ├── geo
│   │   │   ├── api.d.ts
│   │   │   ├── geo-api.service.ts
│   │   │   ├── geo-service.ts
│   │   │   ├── geo.module.ts
│   │   │   └── openapi-definition.yml
│   │   ├── logging
│   │   │   ├── logger.module.ts
│   │   │   ├── logger.service.ts
│   │   │   └── request-logging.interceptor.ts
│   │   ├── main.ts
│   │   ├── matomo
│   │   │   ├── index.ts
│   │   │   ├── matomo.module.ts
│   │   │   ├── matomo.service.ts
│   │   │   └── serve-static-with-matomo.ts
│   │   ├── middleware
│   │   │   ├── cors.middleware.spec.ts
│   │   │   └── cors.middleware.ts
│   │   ├── projet-qualification
│   │   │   ├── const.ts
│   │   │   ├── dto
│   │   │   │   └── projet-qualification.dto.ts
│   │   │   ├── llm
│   │   │   │   ├── anthropic.service.ts
│   │   │   │   ├── prompts
│   │   │   │   │   ├── competences.prompts.ts
│   │   │   │   │   ├── leviers.prompts.ts
│   │   │   │   │   └── types.ts
│   │   │   │   └── validation
│   │   │   │       ├── competences-validation.service.ts
│   │   │   │       └── leviers-validation.service.ts
│   │   │   ├── projet-qualification-rate-limit-guard.ts
│   │   │   ├── projet-qualification.controller.ts
│   │   │   ├── projet-qualification.integration.spec.ts
│   │   │   ├── projet-qualification.module.ts
│   │   │   ├── projet-qualification.service.spec.ts
│   │   │   └── projet-qualification.service.ts
│   │   ├── projets
│   │   │   ├── decorators
│   │   │   │   └── phase-decorators.ts
│   │   │   ├── dto
│   │   │   │   ├── bulk-create-projets.dto.ts
│   │   │   │   ├── collectivite.dto.ts
│   │   │   │   ├── create-projet.dto.ts
│   │   │   │   ├── extra-fields.dto.ts
│   │   │   │   ├── porteur.dto.ts
│   │   │   │   ├── project-public-info.dto.ts
│   │   │   │   ├── projet.dto.ts
│   │   │   │   └── update-projet.dto.ts
│   │   │   ├── extract-api-key.ts
│   │   │   ├── projets.controller.spec.ts
│   │   │   ├── projets.controller.ts
│   │   │   ├── projets.module.ts
│   │   │   └── services
│   │   │       ├── collectivites
│   │   │       │   ├── collectivites.service.spec.ts
│   │   │       │   └── collectivites.service.ts
│   │   │       ├── create-projets
│   │   │       │   ├── create-projets.service.spec.ts
│   │   │       │   └── create-projets.service.ts
│   │   │       ├── extra-fields
│   │   │       │   ├── extra-fields.service.spec.ts
│   │   │       │   └── extra-fields.service.ts
│   │   │       ├── get-projets
│   │   │       │   ├── get-projets.service.spec.ts
│   │   │       │   └── get-projets.service.ts
│   │   │       ├── service-identifier
│   │   │       │   └── service-identifier.service.ts
│   │   │       └── update-projets
│   │   │           ├── update-projets.service.spec.ts
│   │   │           └── update-projets.service.ts
│   │   ├── security
│   │   │   ├── throttler.config.ts
│   │   │   └── throttler.provider.ts
│   │   ├── serve-demo-widget.ts
│   │   ├── serve-ressources.ts
│   │   ├── serve-statistics-dashboard.ts
│   │   ├── services
│   │   │   ├── dto
│   │   │   │   ├── create-service-context.dto.ts
│   │   │   │   ├── create-service.dto.ts
│   │   │   │   ├── extra-fields-config.dto.ts
│   │   │   │   └── service.dto.ts
│   │   │   ├── fake-service-data.ts
│   │   │   ├── services-context.service.spec.ts
│   │   │   ├── services-context.service.ts
│   │   │   ├── services.controller.spec.ts
│   │   │   ├── services.controller.ts
│   │   │   ├── services.module.ts
│   │   │   ├── services.service.spec.ts
│   │   │   └── services.service.ts
│   │   ├── setup-app.ts
│   │   └── shared
│   │       ├── const
│   │       │   ├── competences-list.ts
│   │       │   ├── leviers.ts
│   │       │   └── region-codes.ts
│   │       ├── decorator
│   │       │   ├── api-response.decorator.ts
│   │       │   ├── projetId-decorator.ts
│   │       │   └── track-api-usage.decorator.ts
│   │       ├── dto
│   │       │   ├── error.response.ts
│   │       │   └── uuid.ts
│   │       ├── types.ts
│   │       └── utils
│   │           ├── currentEnv.ts
│   │           └── remove-undefined.ts
│   ├── test
│   │   ├── analytics.e2e-spec.ts
│   │   ├── generated-types.ts
│   │   ├── helpers
│   │   │   ├── api-client.ts
│   │   │   ├── e2e-global-setup.ts
│   │   │   ├── e2e-global-teardown.ts
│   │   │   ├── get-formatted-date.ts
│   │   │   ├── test-database.service.ts
│   │   │   ├── test-module.ts
│   │   │   ├── unit-test-global-setup.ts
│   │   │   └── unit-test-global-teardown.ts
│   │   ├── jest-e2e.config.ts
│   │   ├── jest.common.ts
│   │   ├── jest.config.ts
│   │   ├── jest.scripts.config.ts
│   │   ├── mocks
│   │   │   ├── mockCollectivites.ts
│   │   │   ├── mockProjetPayload.ts
│   │   │   └── mockRequest.ts
│   │   ├── projets.e2e-spec.ts
│   │   ├── qualification.e2e-spec.ts
│   │   ├── ressources.e2e-spec.ts
│   │   ├── services.e2e-spec.ts
│   │   └── setup-tests.ts
│   ├── tsconfig.build.json
│   └── tsconfig.json
├── archi-macro.png
├── commitlint.config.cjs
├── docs
│   └── api
│       └── leviers-endpoint.md
├── eslint.base.cjs
├── eslint.react.cjs
├── package.json
├── pnpm-lock.yaml
├── pnpm-workspace.yaml
├── ressources-pages
│   ├── eslint.config.js
│   ├── index.html
│   ├── package.json
│   ├── src
│   │   ├── App.tsx
│   │   ├── main.tsx
│   │   ├── pages
│   │   │   ├── Confidentialite.tsx
│   │   │   ├── Home.tsx
│   │   │   └── Vocabulaire.tsx
│   │   └── vite-env.d.ts
│   ├── tsconfig.app.json
│   ├── tsconfig.json
│   ├── tsconfig.vite.json
│   └── vite.config.ts
├── statistics-dashboard
│   ├── .env.template
│   ├── .gitignore
│   ├── .npmrc
│   ├── eslint.config.js
│   ├── index.html
│   ├── package.json
│   ├── src
│   │   ├── App.tsx
│   │   ├── components
│   │   │   ├── DatabaseUsageStatistics.tsx
│   │   │   ├── InteractionsChart.tsx
│   │   │   ├── PlatformFilter.tsx
│   │   │   ├── StatisticsCards.module.css
│   │   │   ├── StatisticsCards.tsx
│   │   │   └── WidgetUsageStatistics.tsx
│   │   ├── main.tsx
│   │   ├── types.ts
│   │   ├── utils
│   │   │   └── getDashboardData.ts
│   │   └── vite-env.d.ts
│   ├── tsconfig.app.json
│   ├── tsconfig.json
│   ├── tsconfig.vite.json
│   └── vite.config.ts
├── tsconfig.base.json
├── tsconfig.base.react.json
├── widget
│   ├── .changeset
│   │   ├── README.md
│   │   └── config.json
│   ├── .gitignore
│   ├── .npmrc
│   ├── CHANGELOG.md
│   ├── README.md
│   ├── documentation
│   │   ├── SERVICE_ONBOARDING.md
│   │   ├── contenu-service.png
│   │   ├── widget-iframe.png
│   │   └── widget.png
│   ├── eslint.config.js
│   ├── index.html
│   ├── lib
│   │   ├── components
│   │   │   └── ServicesWidget
│   │   │       ├── IFrameResized.module.css
│   │   │       ├── IFrameResized.tsx
│   │   │       ├── InternalServicesWidget.module.css
│   │   │       ├── InternalServicesWidget.test.tsx
│   │   │       ├── InternalServicesWidget.tsx
│   │   │       ├── LevierDetails.module.css
│   │   │       ├── LevierDetails.tsx
│   │   │       ├── NoResultImage.tsx
│   │   │       ├── NoServiceFound.module.css
│   │   │       ├── NoServiceFound.tsx
│   │   │       ├── Service.style.ts
│   │   │       ├── Service.test.tsx
│   │   │       ├── Service.tsx
│   │   │       ├── ServicesWidget.tsx
│   │   │       ├── queries.ts
│   │   │       ├── types.ts
│   │   │       ├── useServicesWidgetData.test.tsx
│   │   │       └── useServicesWidgetData.ts
│   │   ├── generated-types.ts
│   │   ├── hooks
│   │   │   └── useMediaQuery.ts
│   │   ├── index.ts
│   │   ├── leviers_data
│   │   │   └── voiture_electrique.json
│   │   ├── shared-types.ts
│   │   ├── test
│   │   │   ├── setup.ts
│   │   │   └── stub
│   │   │       ├── project.ts
│   │   │       └── service.ts
│   │   ├── utils.ts
│   │   └── vite-env.d.ts
│   ├── package.json
│   ├── src
│   │   ├── main.tsx
│   │   └── vite-env.d.ts
│   ├── tsconfig.app.json
│   ├── tsconfig.build.json
│   ├── tsconfig.json
│   ├── tsconfig.vite.json
│   └── vite.config.ts
└── widget-sandbox
    ├── .gitignore
    ├── .npmrc
    ├── CHANGELOG.md
    ├── README.md
    ├── eslint.config.js
    ├── index.html
    ├── package.json
    ├── public
    │   └── vite.svg
    ├── src
    │   ├── App.tsx
    │   ├── components
    │   │   ├── CompetencesFilter.tsx
    │   │   ├── ContextFilters.tsx
    │   │   ├── LeviersFilter.tsx
    │   │   ├── PhasesFilter.tsx
    │   │   └── RegionsFilter.tsx
    │   ├── main.tsx
    │   ├── types.ts
    │   └── vite-env.d.ts
    ├── tsconfig.app.json
    ├── tsconfig.json
    ├── tsconfig.vite.json
    └── vite.config.ts
75 directories, 351 files
